---
/** Site homepage */

import siteInfo from '@/site-info.json';
// Page metadata
const pageMeta = siteInfo.pages.filter( (pg) => pg.path === new URL(Astro.request.url).pathname)[0] ?? {};
pageMeta.title = "Home";
pageMeta.subtitle = "Rablings on all things Digital, Technology and Life";

import BaseLayout from '@/layouts/BaseLayout.astro'
import ArticlesList from '@/components/ArticlesList.astro';
import Greeting from '@/components/Greeting.astro'
import { getAllArticles } from '@/utilModules/getCollections.mjs'

const posts = await getAllArticles(['posts', 'kb'])

---
<BaseLayout frontmatter={pageMeta}>
    <Greeting />
    <ArticlesList articles={posts.slice(0,5)} label="Latest 5 posts" LabelTag="h2" />
</BaseLayout>
